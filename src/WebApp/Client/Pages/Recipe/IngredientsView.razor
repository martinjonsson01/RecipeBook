@using RecipeBook.Core.Domain.Recipes

<div class="ingredients bg-white p-2 shadow">
    <FetchList TItem="Ingredient"
               Context="ingredients"
               Url="@($"/api/v1/recipes/{RecipeName}/ingredients")">
        <Header>
            <h2>Ingredienser</h2>
        </Header>
        <ItemsTemplate>
            <ol class="no-style">
                @foreach (Ingredient ingredient in ingredients)
                {
                    <li>
                        <IngredientView Url="@($"/api/v1/recipes/{RecipeName}/ingredients")"
                                        Ingredient="@ingredient"
                                        SetSaving="@SetSaving"/>
                    </li>
                }
            </ol>
        </ItemsTemplate>
    </FetchList>
</div>

@code {
#nullable enable

    [Parameter]
    public string RecipeName { get; set; } = null!;

    [Parameter]
    public EventCallback<(string, LoadStatus)> SetSaving { get; set; } = EventCallback<(string, LoadStatus)>.Empty;

}